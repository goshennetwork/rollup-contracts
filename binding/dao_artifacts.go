package binding

import (
	"encoding/hex"
	"fmt"

	"github.com/laizy/web3/abi"
)

var abiDAO *abi.ABI

// DAOAbi returns the abi of the DAO contract
func DAOAbi() *abi.ABI {
	return abiDAO
}

var binDAO []byte

// DAOBin returns the bin of the DAO contract
func DAOBin() []byte {
	return binDAO
}

var binRuntimeDAO []byte

// DAOBinRuntime returns the runtime bin of the DAO contract
func DAOBinRuntime() []byte {
	return binRuntimeDAO
}

func init() {
	var err error
	abiDAO, err = abi.NewABI(abiDAOStr)
	if err != nil {
		panic(fmt.Errorf("cannot parse DAO abi: %v", err))
	}
	if len(binDAOStr) != 0 {
		binDAO, err = hex.DecodeString(binDAOStr[2:])
		if err != nil {
			panic(fmt.Errorf("cannot parse DAO bin: %v", err))
		}
	}
	if len(binRuntimeDAOStr) != 0 {
		binRuntimeDAO, err = hex.DecodeString(binRuntimeDAOStr[2:])
		if err != nil {
			panic(fmt.Errorf("cannot parse DAO bin runtime: %v", err))
		}
	}
}

var binDAOStr = "0x608060405234801561001057600080fd5b50610853806100206000396000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c80638da5cb5b116100715780638da5cb5b1461011e57806397230e87146101395780639db5dbe41461015c578063c451250e1461016f578063ed4be8ae14610182578063f2fde38b146101a557600080fd5b806302627bf1146100ae578063173773f2146100c35780635f772764146100d6578063715018a61461010e5780638129fc1c14610116575b600080fd5b6100c16100bc366004610694565b6101b8565b005b6100c16100d1366004610694565b61024f565b6100f96100e43660046106cd565b60676020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100c16102d5565b6100c161030b565b6033546040516001600160a01b039091168152602001610105565b6100f96101473660046106cd565b60656020526000908152604090205460ff1681565b6100c161016a3660046106f1565b610380565b6100c161017d366004610694565b610423565b6100f96101903660046106cd565b60666020526000908152604090205460ff1681565b6100c16101b33660046106cd565b6104a9565b6033546001600160a01b031633146101eb5760405162461bcd60e51b81526004016101e290610732565b60405180910390fd5b6001600160a01b038216600081815260666020908152604091829020805460ff19168515159081179091558251938452908301527f25a436f26283d101d1fa18501ce983f57b6ca623fe00f4e9b6ad829d15e9dbab91015b60405180910390a15050565b6033546001600160a01b031633146102795760405162461bcd60e51b81526004016101e290610732565b6001600160a01b038216600081815260676020908152604091829020805460ff19168515159081179091558251938452908301527f13db5e91f3b21081631339f01436697c62d7bcc27a097f5022267b0b2ceca4229101610243565b6033546001600160a01b031633146102ff5760405162461bcd60e51b81526004016101e290610732565b610309600061053d565b565b6000610317600161058f565b9050801561032f576000805461ff0019166101001790555b610337610617565b801561037d576000805461ff0019169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50565b6033546001600160a01b031633146103aa5760405162461bcd60e51b81526004016101e290610732565b60405163a9059cbb60e01b81526001600160a01b0383811660048301526024820183905284169063a9059cbb906044016020604051808303816000875af11580156103f9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061041d9190610767565b50505050565b6033546001600160a01b0316331461044d5760405162461bcd60e51b81526004016101e290610732565b6001600160a01b038216600081815260656020908152604091829020805460ff19168515159081179091558251938452908301527fac8b460ac67b9d6ff807b0f43e0c3379bbecaffd3946798a651b6d7ace8f1fdc9101610243565b6033546001600160a01b031633146104d35760405162461bcd60e51b81526004016101e290610732565b6001600160a01b0381166105385760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016101e2565b61037d815b603380546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b60008054610100900460ff16156105d6578160ff1660011480156105b25750303b155b6105ce5760405162461bcd60e51b81526004016101e290610784565b506000919050565b60005460ff8084169116106105fd5760405162461bcd60e51b81526004016101e290610784565b506000805460ff191660ff92909216919091179055600190565b600054610100900460ff1661063e5760405162461bcd60e51b81526004016101e2906107d2565b610309600054610100900460ff166106685760405162461bcd60e51b81526004016101e2906107d2565b6103093361053d565b6001600160a01b038116811461037d57600080fd5b801515811461037d57600080fd5b600080604083850312156106a757600080fd5b82356106b281610671565b915060208301356106c281610686565b809150509250929050565b6000602082840312156106df57600080fd5b81356106ea81610671565b9392505050565b60008060006060848603121561070657600080fd5b833561071181610671565b9250602084013561072181610671565b929592945050506040919091013590565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b60006020828403121561077957600080fd5b81516106ea81610686565b6020808252602e908201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160408201526d191e481a5b9a5d1a585b1a5e995960921b606082015260800190565b6020808252602b908201527f496e697469616c697a61626c653a20636f6e7472616374206973206e6f74206960408201526a6e697469616c697a696e6760a81b60608201526080019056fea26469706673582212203bc7fdc282ec80ba15fa253a742dc007dc1e61b1f71cb70622655adb4d7e3ca464736f6c634300080e0033"

var binRuntimeDAOStr = "0x608060405234801561001057600080fd5b50600436106100a95760003560e01c80638da5cb5b116100715780638da5cb5b1461011e57806397230e87146101395780639db5dbe41461015c578063c451250e1461016f578063ed4be8ae14610182578063f2fde38b146101a557600080fd5b806302627bf1146100ae578063173773f2146100c35780635f772764146100d6578063715018a61461010e5780638129fc1c14610116575b600080fd5b6100c16100bc366004610694565b6101b8565b005b6100c16100d1366004610694565b61024f565b6100f96100e43660046106cd565b60676020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100c16102d5565b6100c161030b565b6033546040516001600160a01b039091168152602001610105565b6100f96101473660046106cd565b60656020526000908152604090205460ff1681565b6100c161016a3660046106f1565b610380565b6100c161017d366004610694565b610423565b6100f96101903660046106cd565b60666020526000908152604090205460ff1681565b6100c16101b33660046106cd565b6104a9565b6033546001600160a01b031633146101eb5760405162461bcd60e51b81526004016101e290610732565b60405180910390fd5b6001600160a01b038216600081815260666020908152604091829020805460ff19168515159081179091558251938452908301527f25a436f26283d101d1fa18501ce983f57b6ca623fe00f4e9b6ad829d15e9dbab91015b60405180910390a15050565b6033546001600160a01b031633146102795760405162461bcd60e51b81526004016101e290610732565b6001600160a01b038216600081815260676020908152604091829020805460ff19168515159081179091558251938452908301527f13db5e91f3b21081631339f01436697c62d7bcc27a097f5022267b0b2ceca4229101610243565b6033546001600160a01b031633146102ff5760405162461bcd60e51b81526004016101e290610732565b610309600061053d565b565b6000610317600161058f565b9050801561032f576000805461ff0019166101001790555b610337610617565b801561037d576000805461ff0019169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50565b6033546001600160a01b031633146103aa5760405162461bcd60e51b81526004016101e290610732565b60405163a9059cbb60e01b81526001600160a01b0383811660048301526024820183905284169063a9059cbb906044016020604051808303816000875af11580156103f9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061041d9190610767565b50505050565b6033546001600160a01b0316331461044d5760405162461bcd60e51b81526004016101e290610732565b6001600160a01b038216600081815260656020908152604091829020805460ff19168515159081179091558251938452908301527fac8b460ac67b9d6ff807b0f43e0c3379bbecaffd3946798a651b6d7ace8f1fdc9101610243565b6033546001600160a01b031633146104d35760405162461bcd60e51b81526004016101e290610732565b6001600160a01b0381166105385760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016101e2565b61037d815b603380546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b60008054610100900460ff16156105d6578160ff1660011480156105b25750303b155b6105ce5760405162461bcd60e51b81526004016101e290610784565b506000919050565b60005460ff8084169116106105fd5760405162461bcd60e51b81526004016101e290610784565b506000805460ff191660ff92909216919091179055600190565b600054610100900460ff1661063e5760405162461bcd60e51b81526004016101e2906107d2565b610309600054610100900460ff166106685760405162461bcd60e51b81526004016101e2906107d2565b6103093361053d565b6001600160a01b038116811461037d57600080fd5b801515811461037d57600080fd5b600080604083850312156106a757600080fd5b82356106b281610671565b915060208301356106c281610686565b809150509250929050565b6000602082840312156106df57600080fd5b81356106ea81610671565b9392505050565b60008060006060848603121561070657600080fd5b833561071181610671565b9250602084013561072181610671565b929592945050506040919091013590565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b60006020828403121561077957600080fd5b81516106ea81610686565b6020808252602e908201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160408201526d191e481a5b9a5d1a585b1a5e995960921b606082015260800190565b6020808252602b908201527f496e697469616c697a61626c653a20636f6e7472616374206973206e6f74206960408201526a6e697469616c697a696e6760a81b60608201526080019056fea26469706673582212203bc7fdc282ec80ba15fa253a742dc007dc1e61b1f71cb70622655adb4d7e3ca464736f6c634300080e0033"

var abiDAOStr = `[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"challenger","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"ChallengerWhitelistUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"proposer","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"ProposerWhitelistUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"submitter","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"SequencerWhitelistUpdated","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"challengerWhitelist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"proposerWhitelist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"sequencerWhitelist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"challenger","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setChallengerWhitelist","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"proposer","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setProposerWhitelist","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sequencer","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setSequencerWhitelist","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]`

package build

import (
	"encoding/hex"
	"fmt"

	"github.com/laizy/web3/abi"
)

var abiRollupStateChain *abi.ABI

// RollupStateChainAbi returns the abi of the RollupStateChain contract
func RollupStateChainAbi() *abi.ABI {
	return abiRollupStateChain
}

var binRollupStateChain []byte

// RollupStateChainBin returns the bin of the RollupStateChain contract
func RollupStateChainBin() []byte {
	return binRollupStateChain
}

var binRuntimeRollupStateChain []byte

// RollupStateChainBinRuntime returns the runtime bin of the RollupStateChain contract
func RollupStateChainBinRuntime() []byte {
	return binRuntimeRollupStateChain
}

func init() {
	var err error
	abiRollupStateChain, err = abi.NewABI(abiRollupStateChainStr)
	if err != nil {
		panic(fmt.Errorf("cannot parse RollupStateChain abi: %v", err))
	}
	if len(binRollupStateChainStr) != 0 {
		binRollupStateChain, err = hex.DecodeString(binRollupStateChainStr[2:])
		if err != nil {
			panic(fmt.Errorf("cannot parse RollupStateChain bin: %v", err))
		}
	}
	if len(binRuntimeRollupStateChainStr) != 0 {
		binRuntimeRollupStateChain, err = hex.DecodeString(binRuntimeRollupStateChainStr[2:])
		if err != nil {
			panic(fmt.Errorf("cannot parse RollupStateChain bin runtime: %v", err))
		}
	}
}

var binRollupStateChainStr = "0x60a060405234801561001057600080fd5b5060405161109c38038061109c83398101604081905261002f91610058565b600080546001600160a01b0319166001600160a01b039390931692909217909155608052610092565b6000806040838503121561006b57600080fd5b82516001600160a01b038116811461008257600080fd5b6020939093015192949293505050565b608051610fe96100b36000396000818160dc01526101240152610fe96000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063325aeae21461006757806376ef0aaa1461008f57806392927f11146100a4578063935b0d78146100b7578063e46020a1146100d7578063e9c706df1461010c575b600080fd5b61007a610075366004610d32565b61011f565b60405190151581526020015b60405180910390f35b6100a261009d366004610d32565b610163565b005b61007a6100b2366004610d32565b61044f565b6100bf6105c9565b6040516001600160401b039091168152602001610086565b6100fe7f000000000000000000000000000000000000000000000000000000000000000081565b604051908152602001610086565b6100a261011a366004610dad565b6106a7565b6000427f000000000000000000000000000000000000000000000000000000000000000083604001516001600160401b031661015b9190610e7a565b111592915050565b60008054906101000a90046001600160a01b03166001600160a01b0316635dbaf68b6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156101b4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d89190610e92565b60405163b363ff8560e01b81523360048201526001600160a01b03919091169063b363ff8590602401602060405180830381865afa15801561021e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102429190610eaf565b61029f5760405162461bcd60e51b8152602060048201526024808201527f6f6e6c79207065726d6974746564206279206368616c6c656e676520636f6e746044820152631c9858dd60e21b60648201526084015b60405180910390fd5b6102a88161044f565b6102e95760405162461bcd60e51b8152602060048201526012602482015271696e76616c696420737461746520696e666f60701b6044820152606401610296565b6102f28161011f565b156103315760405162461bcd60e51b815260206004820152600f60248201526e1cdd185d194818dbdb999a5c9b5959608a1b6044820152606401610296565b60008054906101000a90046001600160a01b03166001600160a01b031663388f2a0a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610382573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103a69190610e92565b6020820151604051635682afa960e01b81526001600160401b0390911660048201526001600160a01b039190911690635682afa990602401600060405180830381600087803b1580156103f857600080fd5b505af115801561040c573d6000803e3d6000fd5b5050825160208401516040519193506001600160401b031691507f911ace459082010270e47b0b03415673320c53da9e7918fc7d0b0c379f80514590600090a350565b6000805460408051631c47950560e11b8152905183926001600160a01b03169163388f2a0a9160048083019260209291908290030181865afa158015610499573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104bd9190610e92565b9050806001600160a01b03166331fe09496040518163ffffffff1660e01b8152600401602060405180830381865afa1580156104fd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105219190610ed1565b6001600160401b031683602001516001600160401b03161080156105c2575061054983610c1c565b60208401516040516315b50cf360e31b81526001600160401b0390911660048201526001600160a01b0383169063ada8679890602401602060405180830381865afa15801561059c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105c09190610eee565b145b9392505050565b60008060009054906101000a90046001600160a01b03166001600160a01b031663388f2a0a6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561061d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106419190610e92565b6001600160a01b03166331fe09496040518163ffffffff1660e01b8152600401602060405180830381865afa15801561067e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106a29190610ed1565b905090565b60008060009054906101000a90046001600160a01b03166001600160a01b031663388f2a0a6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156106fb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061071f9190610e92565b9050806001600160a01b03166331fe09496040518163ffffffff1660e01b8152600401602060405180830381865afa15801561075f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107839190610ed1565b6001600160401b0316826001600160401b0316146107d85760405162461bcd60e51b81526020600482015260126024820152710e6e8c2e4e840e0dee640dad2e6dac2e8c6d60731b6044820152606401610296565b60008054906101000a90046001600160a01b03166001600160a01b03166322828cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610829573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061084d9190610e92565b604051636f49712b60e01b81523360048201526001600160a01b039190911690636f49712b90602401602060405180830381865afa158015610893573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108b79190610eaf565b6108ee5760405162461bcd60e51b81526020600482015260086024820152671d5b9cdd185ad95960c21b6044820152606401610296565b60008351116109315760405162461bcd60e51b815260206004820152600f60248201526e6e6f20626c6f636b2068617368657360881b6044820152606401610296565b60008054906101000a90046001600160a01b03166001600160a01b03166374aee6c96040518163ffffffff1660e01b8152600401602060405180830381865afa158015610982573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109a69190610e92565b6001600160a01b031663761a26616040518163ffffffff1660e01b8152600401602060405180830381865afa1580156109e3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a079190610ed1565b6001600160401b03168351826001600160a01b03166331fe09496040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a50573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a749190610ed1565b6001600160401b0316610a879190610e7a565b1115610ad55760405162461bcd60e51b815260206004820152601960248201527f65786365656420696e70757420636861696e20686569676874000000000000006044820152606401610296565b60408051608081018252600080825260208201819052426001600160401b0381169383019390935233606083015284905b8651811015610bc657868181518110610b2157610b21610f07565b60209081029190910181015184526001600160401b038316908401526001600160a01b038516636483ec25610b5585610c1c565b6040518263ffffffff1660e01b8152600401610b7391815260200190565b600060405180830381600087803b158015610b8d57600080fd5b505af1158015610ba1573d6000803e3d6000fd5b505050508180610bb090610f1d565b9250508080610bbe90610f43565b915050610b06565b50336001600160a01b0316856001600160401b03167fe501d1d67f5d3e0db09f75522bb417d1a036ef3d9fcbfe391e097aa8f9e520118589604051610c0c929190610f5c565b60405180910390a3505050505050565b6000610c2782610c35565b805190602001209050919050565b60608160000151826020015183604001518460600151604051602001610c99949392919093845260c092831b6001600160c01b031990811660208601529190921b16602883015260601b6bffffffffffffffffffffffff1916603082015260440190565b6040516020818303038152906040529050919050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715610ced57610ced610caf565b604052919050565b6001600160401b0381168114610d0a57600080fd5b50565b8035610d1881610cf5565b919050565b6001600160a01b0381168114610d0a57600080fd5b600060808284031215610d4457600080fd5b604051608081018181106001600160401b0382111715610d6657610d66610caf565b604052823581526020830135610d7b81610cf5565b60208201526040830135610d8e81610cf5565b60408201526060830135610da181610d1d565b60608201529392505050565b60008060408385031215610dc057600080fd5b82356001600160401b0380821115610dd757600080fd5b818501915085601f830112610deb57600080fd5b8135602082821115610dff57610dff610caf565b8160051b9250610e10818401610cc5565b8281529284018101928181019089851115610e2a57600080fd5b948201945b84861015610e4857853582529482019490820190610e2f565b9650610e579050878201610d0d565b9450505050509250929050565b634e487b7160e01b600052601160045260246000fd5b60008219821115610e8d57610e8d610e64565b500190565b600060208284031215610ea457600080fd5b81516105c281610d1d565b600060208284031215610ec157600080fd5b815180151581146105c257600080fd5b600060208284031215610ee357600080fd5b81516105c281610cf5565b600060208284031215610f0057600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b60006001600160401b03808316818103610f3957610f39610e64565b6001019392505050565b600060018201610f5557610f55610e64565b5060010190565b6000604082016001600160401b03851683526020604081850152818551808452606086019150828701935060005b81811015610fa657845183529383019391830191600101610f8a565b509097965050505050505056fea2646970667358221220ce73b87a3a3ff8452f7328f0de6e0a7b498c97f0c90eb77e53a37e5e91d2ad3764736f6c634300080d0033"

var binRuntimeRollupStateChainStr = "0x608060405234801561001057600080fd5b50600436106100625760003560e01c8063325aeae21461006757806376ef0aaa1461008f57806392927f11146100a4578063935b0d78146100b7578063e46020a1146100d7578063e9c706df1461010c575b600080fd5b61007a610075366004610d32565b61011f565b60405190151581526020015b60405180910390f35b6100a261009d366004610d32565b610163565b005b61007a6100b2366004610d32565b61044f565b6100bf6105c9565b6040516001600160401b039091168152602001610086565b6100fe7f000000000000000000000000000000000000000000000000000000000000000081565b604051908152602001610086565b6100a261011a366004610dad565b6106a7565b6000427f000000000000000000000000000000000000000000000000000000000000000083604001516001600160401b031661015b9190610e7a565b111592915050565b60008054906101000a90046001600160a01b03166001600160a01b0316635dbaf68b6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156101b4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d89190610e92565b60405163b363ff8560e01b81523360048201526001600160a01b03919091169063b363ff8590602401602060405180830381865afa15801561021e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102429190610eaf565b61029f5760405162461bcd60e51b8152602060048201526024808201527f6f6e6c79207065726d6974746564206279206368616c6c656e676520636f6e746044820152631c9858dd60e21b60648201526084015b60405180910390fd5b6102a88161044f565b6102e95760405162461bcd60e51b8152602060048201526012602482015271696e76616c696420737461746520696e666f60701b6044820152606401610296565b6102f28161011f565b156103315760405162461bcd60e51b815260206004820152600f60248201526e1cdd185d194818dbdb999a5c9b5959608a1b6044820152606401610296565b60008054906101000a90046001600160a01b03166001600160a01b031663388f2a0a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610382573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103a69190610e92565b6020820151604051635682afa960e01b81526001600160401b0390911660048201526001600160a01b039190911690635682afa990602401600060405180830381600087803b1580156103f857600080fd5b505af115801561040c573d6000803e3d6000fd5b5050825160208401516040519193506001600160401b031691507f911ace459082010270e47b0b03415673320c53da9e7918fc7d0b0c379f80514590600090a350565b6000805460408051631c47950560e11b8152905183926001600160a01b03169163388f2a0a9160048083019260209291908290030181865afa158015610499573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104bd9190610e92565b9050806001600160a01b03166331fe09496040518163ffffffff1660e01b8152600401602060405180830381865afa1580156104fd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105219190610ed1565b6001600160401b031683602001516001600160401b03161080156105c2575061054983610c1c565b60208401516040516315b50cf360e31b81526001600160401b0390911660048201526001600160a01b0383169063ada8679890602401602060405180830381865afa15801561059c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105c09190610eee565b145b9392505050565b60008060009054906101000a90046001600160a01b03166001600160a01b031663388f2a0a6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561061d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106419190610e92565b6001600160a01b03166331fe09496040518163ffffffff1660e01b8152600401602060405180830381865afa15801561067e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106a29190610ed1565b905090565b60008060009054906101000a90046001600160a01b03166001600160a01b031663388f2a0a6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156106fb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061071f9190610e92565b9050806001600160a01b03166331fe09496040518163ffffffff1660e01b8152600401602060405180830381865afa15801561075f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107839190610ed1565b6001600160401b0316826001600160401b0316146107d85760405162461bcd60e51b81526020600482015260126024820152710e6e8c2e4e840e0dee640dad2e6dac2e8c6d60731b6044820152606401610296565b60008054906101000a90046001600160a01b03166001600160a01b03166322828cc26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610829573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061084d9190610e92565b604051636f49712b60e01b81523360048201526001600160a01b039190911690636f49712b90602401602060405180830381865afa158015610893573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108b79190610eaf565b6108ee5760405162461bcd60e51b81526020600482015260086024820152671d5b9cdd185ad95960c21b6044820152606401610296565b60008351116109315760405162461bcd60e51b815260206004820152600f60248201526e6e6f20626c6f636b2068617368657360881b6044820152606401610296565b60008054906101000a90046001600160a01b03166001600160a01b03166374aee6c96040518163ffffffff1660e01b8152600401602060405180830381865afa158015610982573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109a69190610e92565b6001600160a01b031663761a26616040518163ffffffff1660e01b8152600401602060405180830381865afa1580156109e3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a079190610ed1565b6001600160401b03168351826001600160a01b03166331fe09496040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a50573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a749190610ed1565b6001600160401b0316610a879190610e7a565b1115610ad55760405162461bcd60e51b815260206004820152601960248201527f65786365656420696e70757420636861696e20686569676874000000000000006044820152606401610296565b60408051608081018252600080825260208201819052426001600160401b0381169383019390935233606083015284905b8651811015610bc657868181518110610b2157610b21610f07565b60209081029190910181015184526001600160401b038316908401526001600160a01b038516636483ec25610b5585610c1c565b6040518263ffffffff1660e01b8152600401610b7391815260200190565b600060405180830381600087803b158015610b8d57600080fd5b505af1158015610ba1573d6000803e3d6000fd5b505050508180610bb090610f1d565b9250508080610bbe90610f43565b915050610b06565b50336001600160a01b0316856001600160401b03167fe501d1d67f5d3e0db09f75522bb417d1a036ef3d9fcbfe391e097aa8f9e520118589604051610c0c929190610f5c565b60405180910390a3505050505050565b6000610c2782610c35565b805190602001209050919050565b60608160000151826020015183604001518460600151604051602001610c99949392919093845260c092831b6001600160c01b031990811660208601529190921b16602883015260601b6bffffffffffffffffffffffff1916603082015260440190565b6040516020818303038152906040529050919050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715610ced57610ced610caf565b604052919050565b6001600160401b0381168114610d0a57600080fd5b50565b8035610d1881610cf5565b919050565b6001600160a01b0381168114610d0a57600080fd5b600060808284031215610d4457600080fd5b604051608081018181106001600160401b0382111715610d6657610d66610caf565b604052823581526020830135610d7b81610cf5565b60208201526040830135610d8e81610cf5565b60408201526060830135610da181610d1d565b60608201529392505050565b60008060408385031215610dc057600080fd5b82356001600160401b0380821115610dd757600080fd5b818501915085601f830112610deb57600080fd5b8135602082821115610dff57610dff610caf565b8160051b9250610e10818401610cc5565b8281529284018101928181019089851115610e2a57600080fd5b948201945b84861015610e4857853582529482019490820190610e2f565b9650610e579050878201610d0d565b9450505050509250929050565b634e487b7160e01b600052601160045260246000fd5b60008219821115610e8d57610e8d610e64565b500190565b600060208284031215610ea457600080fd5b81516105c281610d1d565b600060208284031215610ec157600080fd5b815180151581146105c257600080fd5b600060208284031215610ee357600080fd5b81516105c281610cf5565b600060208284031215610f0057600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b60006001600160401b03808316818103610f3957610f39610e64565b6001019392505050565b600060018201610f5557610f55610e64565b5060010190565b6000604082016001600160401b03851683526020604081850152818551808452606086019150828701935060005b81811015610fa657845183529383019391830191600101610f8a565b509097965050505050505056fea2646970667358221220ce73b87a3a3ff8452f7328f0de6e0a7b498c97f0c90eb77e53a37e5e91d2ad3764736f6c634300080d0033"

var abiRollupStateChainStr = `[{"inputs":[{"internalType":"address","name":"_addressResolver","type":"address"},{"internalType":"uint256","name":"_fraudProofWindow","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint64","name":"_startIndex","type":"uint64"},{"indexed":true,"internalType":"address","name":"_proposer","type":"address"},{"indexed":false,"internalType":"uint64","name":"_timestamp","type":"uint64"},{"indexed":false,"internalType":"bytes32[]","name":"_blockHash","type":"bytes32[]"}],"name":"StateBatchAppended","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint64","name":"_stateIndex","type":"uint64"},{"indexed":true,"internalType":"bytes32","name":"_blockHash","type":"bytes32"}],"name":"StateRollbacked","type":"event"},{"inputs":[{"internalType":"bytes32[]","name":"_blockHashes","type":"bytes32[]"},{"internalType":"uint64","name":"_startAt","type":"uint64"}],"name":"appendStateBatch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"fraudProofWindow","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"internalType":"uint64","name":"index","type":"uint64"},{"internalType":"uint64","name":"timestamp","type":"uint64"},{"internalType":"address","name":"proposer","type":"address"}],"internalType":"struct Types.StateInfo","name":"_stateInfo","type":"tuple"}],"name":"isStateConfirmed","outputs":[{"internalType":"bool","name":"_confirmed","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"internalType":"uint64","name":"index","type":"uint64"},{"internalType":"uint64","name":"timestamp","type":"uint64"},{"internalType":"address","name":"proposer","type":"address"}],"internalType":"struct Types.StateInfo","name":"_stateInfo","type":"tuple"}],"name":"rollbackStateBefore","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalSubmittedState","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"internalType":"uint64","name":"index","type":"uint64"},{"internalType":"uint64","name":"timestamp","type":"uint64"},{"internalType":"address","name":"proposer","type":"address"}],"internalType":"struct Types.StateInfo","name":"_stateInfo","type":"tuple"}],"name":"verifyStateInfo","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]`
